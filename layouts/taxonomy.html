{{ define "main" }}
{{ $cfg := partial "func/defaults" . }}
<div class="container">
  <header class="page-header">
    <h1>{{ .Title }}</h1>
  </header>

  <div class="post-list">
    {{ $paginator := .Paginate .Pages }}
    {{ range $paginator.Pages }}
      <article class="post-list-item">
        <header>
          <h2 class="post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
          <div class="post-meta">
            {{ with .Date }}
              <span>
                {{ partial "icons/calendar.html" }}
                <time datetime="{{ .Format "2006-01-02T15:04:05Z07:00" }}">{{ .Format $cfg.dateFormat }}</time>
              </span>
            {{ end }}
            {{ with .Params.author | default $.Site.Params.author }}
              <span>
                {{ partial "icons/user.html" }}
                {{ . }}
              </span>
            {{ end }}
          </div>
        </header>
        {{ if $cfg.list.showExcerpt }}
          <div class="post-excerpt">
            <a href="{{ .RelPermalink }}" class="post-excerpt-link">
              {{ .Summary }}
              {{ if .Truncated }}
                <span class="excerpt-ellipsis">&nbsp;(...)</span>
              {{ end }}
            </a>
          </div>
        {{ end }}
      </article>
    {{ end }}
  </div>

  {{ partial "pagination.html" . }}
</div>
{{ end }}
