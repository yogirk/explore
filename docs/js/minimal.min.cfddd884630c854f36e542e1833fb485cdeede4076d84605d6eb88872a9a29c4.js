(function(){"use strict";function e(){var e=document.getElementById("theme-toggle"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme");function t(t){document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),e&&e.setAttribute("aria-pressed",t==="dark")}n?t(n):t(s?"dark":"light"),e&&e.addEventListener("click",function(){var e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";t(e)})}function t(){var e=document.getElementById("nav-toggle"),t=document.getElementById("site-nav"),n=document.documentElement;e&&t&&e.addEventListener("click",function(){var s=t.classList.toggle("is-open");e.classList.toggle("is-active",s),e.setAttribute("aria-expanded",s),n.classList.toggle("is-menu-open",s)})}function n(){var e,n,t=document.querySelector(".site-header.is-sticky");if(!t)return;e=document.createElement("div"),e.setAttribute("aria-hidden","true"),e.style.cssText="position:absolute;top:0;height:1px;width:1px;pointer-events:none;",document.body.insertBefore(e,document.body.firstChild),n=new IntersectionObserver(function(e){e.forEach(function(e){t.classList.toggle("has-shadow",!e.isIntersecting)})}),n.observe(e)}function s(){var e=document.querySelectorAll(".highlight");e.forEach(function(e){var t,n,s,i,a,o=e.querySelector("code");if(!o)return;i=o.className.match(/language-(\w+)/),a=i?i[1]:"",n=document.createElement("div"),n.className="code-header",a&&(s=document.createElement("span"),s.className="code-lang",s.textContent=a.toUpperCase(),n.appendChild(s)),t=document.createElement("button"),t.className="copy-code",t.textContent="Copy",t.type="button",n.appendChild(t),e.insertBefore(n,e.firstChild),t.addEventListener("click",function(){navigator.clipboard.writeText(o.textContent).then(function(){t.textContent="Copied!",t.classList.add("is-copied"),setTimeout(function(){t.textContent="Copy",t.classList.remove("is-copied")},2e3)})})})}function o(){var n,s,e=document.querySelectorAll(".toc nav a"),t=document.querySelectorAll(".post-content h2, .post-content h3");if(!e.length||!t.length)return;n={root:null,rootMargin:"-100px 0px -70% 0px",threshold:0},s=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var n=t.target.getAttribute("id");if(!n)return;e.forEach(function(e){e.classList.toggle("active",e.getAttribute("href")==="#"+n)})}})},n),t.forEach(function(e){s.observe(e)})}function i(){var e,t=document.getElementById("reading-progress");if(!t)return;e=!1,window.addEventListener("scroll",function(){e||(requestAnimationFrame(function(){var s=window.scrollY||document.documentElement.scrollTop,n=document.body.scrollHeight-window.innerHeight,o=n>0?Math.min(s/n*100,100):0;t.style.width=o+"%",e=!1}),e=!0)})}document.addEventListener("DOMContentLoaded",function(){e(),t(),n(),o(),s(),i()})})()